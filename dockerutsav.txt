FROM node:14-alpine

WORKDIR /app

COPY viral.json /app
ARG version=latest

RUN npm install -g @mockoon/cli@$version
# Do not run as root.
RUN adduser --shell /bin/sh --disabled-password --gecos "" mockoon
USER mockoon

EXPOSE 3004

CMD ["mockoon-cli start --data ~/app/viral.json --port 3004 --pname vrialNation --hostname 127.0.0.1"]


# Usage: docker run --mount type=bind,source="$(pwd)"/dataFile.json,target=/data,readonly -p <port>:<port> mockoon-test -d data